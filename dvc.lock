schema: '2.0'
stages:
  preprocess:
    cmd: python src/data_preprocessing.py params.yaml
    deps:
    - path: data/raw/gender_pay_gap_india.csv
      hash: md5
      md5: 4e4f4215dd5c603883cf96391cd5e552
      size: 507189
    - path: src/data_preprocessing.py
      hash: md5
      md5: f0145d15e1221d611de93c0a038c9ece
      size: 2229
    params:
      params.yaml:
        preprocess:
          test_size: 0.2
          random_state: 42
    outs:
    - path: data/processed
      hash: md5
      md5: 79120a2f7d49c433074ebe54418aef7d.dir
      size: 994697
      nfiles: 4
  tune:
    cmd: python src/hyperparameter_tuning.py params.yaml
    deps:
    - path: data/processed
      hash: md5
      md5: 79120a2f7d49c433074ebe54418aef7d.dir
      size: 994697
      nfiles: 4
    - path: src/hyperparameter_tuning.py
      hash: md5
      md5: cb40700987dee0726d8d008366f704b4
      size: 1962
    params:
      params.yaml:
        tune:
          n_iter: 5
          cv: 5
          param_grid:
            n_estimators:
            - 50
            - 100
            max_depth:
            - 5
            - 10
            - 15
            min_samples_leaf:
            - 3
            - 5
            min_samples_split:
            - 8
            - 15
    outs:
    - path: best_params.json
      hash: md5
      md5: 9353296cfc2209cde18d4729f5ff0342
      size: 107
  train:
    cmd: python src/model_trainer.py params.yaml
    deps:
    - path: data/processed
      hash: md5
      md5: 79120a2f7d49c433074ebe54418aef7d.dir
      size: 994697
      nfiles: 4
    - path: src/model_trainer.py
      hash: md5
      md5: cc8bdfff9597ada622fe9fcec17bdfa0
      size: 1725
    params:
      params.yaml:
        train:
          n_estimators: 100
          max_depth:
          min_samples_leaf: 1
          min_samples_split: 2
    outs:
    - path: models/random_forest_model.pkl
      hash: md5
      md5: 6e39fd375ecc68072f9d337fe71831b0
      size: 58301697
  evaluate:
    cmd: python src/model_evaluation.py
    deps:
    - path: data/processed
      hash: md5
      md5: 79120a2f7d49c433074ebe54418aef7d.dir
      size: 994697
      nfiles: 4
    - path: models/random_forest_model.pkl
      hash: md5
      md5: 6e39fd375ecc68072f9d337fe71831b0
      size: 58301697
    - path: src/model_evaluation.py
      hash: md5
      md5: f7e300fd4121b70e43c02c9a297bcf1e
      size: 2007
    outs:
    - path: metrics.json
      hash: md5
      md5: 5f242ad65d6876be0af7c1fd9d8bc06f
      size: 104
