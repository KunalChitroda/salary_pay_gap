schema: '2.0'
stages:
  preprocess:
    cmd: python src/data_preprocessing.py params.yaml
    deps:
    - path: data/raw/gender_pay_gap_india.csv
      hash: md5
      md5: 4e4f4215dd5c603883cf96391cd5e552
      size: 507189
    - path: src/data_preprocessing.py
      hash: md5
      md5: f0145d15e1221d611de93c0a038c9ece
      size: 2229
    params:
      params.yaml:
        preprocess:
          test_size: 0.2
          random_state: 42
    outs:
    - path: data/processed
      hash: md5
      md5: 79120a2f7d49c433074ebe54418aef7d.dir
      size: 994697
      nfiles: 4
  tune:
    cmd: python src/hyperparameter_tuning.py params.yaml
    deps:
    - path: data/processed
      hash: md5
      md5: 79120a2f7d49c433074ebe54418aef7d.dir
      size: 994697
      nfiles: 4
    - path: src/hyperparameter_tuning.py
      hash: md5
      md5: cb40700987dee0726d8d008366f704b4
      size: 1962
    params:
      params.yaml:
        tune:
          n_iter: 5
          cv: 5
          param_grid:
            n_estimators:
            - 50
            - 100
            max_depth:
            - 5
            - 10
            - 15
            min_samples_leaf:
            - 3
            - 5
            min_samples_split:
            - 8
            - 15
    outs:
    - path: best_params.json
      hash: md5
      md5: 9353296cfc2209cde18d4729f5ff0342
      size: 107
  train:
    cmd: python src/model_trainer.py
    deps:
    - path: best_params.json
      hash: md5
      md5: 9353296cfc2209cde18d4729f5ff0342
      size: 107
    - path: data/processed
      hash: md5
      md5: 79120a2f7d49c433074ebe54418aef7d.dir
      size: 994697
      nfiles: 4
    - path: src/model_trainer.py
      hash: md5
      md5: 68b8eea239de1c928bd56b087d954e9b
      size: 1387
    outs:
    - path: models/random_forest_model.pkl
      hash: md5
      md5: 83dcd531e6fe57d78a7f584672047301
      size: 6549057
  evaluate:
    cmd: python src/model_evaluation.py
    deps:
    - path: data/processed
      hash: md5
      md5: 79120a2f7d49c433074ebe54418aef7d.dir
      size: 994697
      nfiles: 4
    - path: models/random_forest_model.pkl
      hash: md5
      md5: 83dcd531e6fe57d78a7f584672047301
      size: 6549057
    - path: src/model_evaluation.py
      hash: md5
      md5: f7e300fd4121b70e43c02c9a297bcf1e
      size: 2007
    outs:
    - path: metrics.json
      hash: md5
      md5: fc52b14afd2d4f49b3d430d41965d63a
      size: 104
